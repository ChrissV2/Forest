"use strict";var hamburgerBtn,mobileNav,navLogo,body,mobileNavItems,firstNavItem,secondNavItem,thirdNavItem,fourthNavItem,allNavItems,contactInputs,contactLabels,textArea,contactForm,label,textAreaLabel,nameInput,mailInput,sendBtn,inputArr,allInputArr,checkBox,errorMsg,alertMsg,main=function(){prepareDOMElements(),prepareDOMEvents(),scrollSpy()},prepareDOMElements=function(){hamburgerBtn=document.querySelector(".hamburger"),mobileNav=document.querySelector(".nav-mobile"),navLogo=document.querySelector(".nav__logo"),body=document.querySelector("body"),mobileNavItems=document.querySelectorAll(".nav-mobile__items-item"),firstNavItem=document.querySelector(".nav__items-item--first"),secondNavItem=document.querySelector(".nav__items-item--second"),thirdNavItem=document.querySelector(".nav__items-item--third"),fourthNavItem=document.querySelector(".nav__items-item--fourth"),allNavItems=document.querySelectorAll(".nav__items-item"),contactInputs=document.querySelectorAll(".contact__box-input"),contactLabels=document.querySelectorAll(".contact__box-label"),textArea=document.querySelector(".contact__box-textarea"),contactForm=document.querySelector(".contact__form"),sendBtn=document.querySelector(".contact__form-btn"),nameInput=document.querySelector("#name"),mailInput=document.querySelector("#mail"),inputArr=[nameInput,textArea],allInputArr=[nameInput,mailInput,textArea],checkBox=document.querySelector("#privacy"),errorMsg=document.querySelector(".contact__box-error"),alertMsg=document.querySelector(".contact__alert")},prepareDOMEvents=function(){hamburgerBtn.addEventListener("click",handleNav),window.addEventListener("scroll",scrollSpy),body.addEventListener("click",handleContactAnimation),sendBtn&&sendBtn.addEventListener("click",function(e){e.preventDefault(),validateNameAndTextarea(),validateMail(),validateCheckbox(),checkErrors()})},handleNav=function(){body.classList.toggle("overflow-hidden"),mobileNav.classList.toggle("nav-mobile--active"),mobileNavItems.forEach(function(e){return closeNav(e)}),hamburgerBtn.classList.toggle("is-active")},closeNav=function(e){e.addEventListener("click",function(){body.classList.remove("overflow-hidden"),mobileNav.classList.remove("nav-mobile--active"),hamburgerBtn.classList.remove("is-active")})},scrollSpy=function(){document.URL.includes("oferta.html")?removeActiveClass():(document.URL.includes("kontakt.html")?(removeActiveClass(),fourthNavItem):window.scrollY<=557?(removeActiveClass(),firstNavItem):window.scrollY<=1515?(removeActiveClass(),secondNavItem):(removeActiveClass(),thirdNavItem)).classList.add("nav__items-item--active")},removeActiveClass=function(){allNavItems.forEach(function(e){return e.classList.remove("nav__items-item--active")})},handleContactAnimation=function(e){e.target.matches(".contact__box-input")?(removeAnimation(),(label=e.target.closest("div").firstElementChild).classList.add("contact__box-label-animation")):e.target.matches(".contact__box-textarea")?(removeAnimation(),(textAreaLabel=e.target.closest("div").firstElementChild).classList.add("contact__box-label-animation")):removeAnimation()},removeAnimation=function(){contactLabels.forEach(function(e){var t=e.getAttribute("for"),t=document.getElementById(t);t&&""===t.value.trim()&&e.classList.remove("contact__box-label-animation")})},validateNameAndTextarea=function(){inputArr.forEach(function(e){""===e.value?e.classList.add("contact__box-input-incorrect"):e.classList.remove("contact__box-input-incorrect")})},validateMail=function(){/^(([^<>()[\]\.,;:\s@\"]+(\.[^<>()[\]\.,;:\s@\"]+)*)|(\".+\"))@(([^<>()[\]\.,;:\s@\"]+\.)+[^<>()[\]\.,;:\s@\"]{2,4})$/i.test(mailInput.value)?mailInput.classList.remove("contact__box-input-incorrect"):mailInput.classList.add("contact__box-input-incorrect")},validateCheckbox=function(){checkBox.checked?(errorMsg.style.opacity="0",checkBox.classList.remove("contact__box-input-incorrect")):(errorMsg.style.opacity="1",checkBox.classList.add("contact__box-input-incorrect"))},clearInputs=function(){nameInput.value="",mailInput.value="",textArea.value="",checkBox.checked=!1},checkErrors=function(){var t=0;allInputArr.forEach(function(e){e.classList.contains("contact__box-input-incorrect")&&t++}),checkBox.checked||t++,0===t&&(clearInputs(),alertMsg.classList.add("contact__alert-animation"),setTimeout(function(){alertMsg.classList.remove("contact__alert-animation")},3e3))},delayLinks=function(e,t){e.preventDefault(),setTimeout(function(){window.location.href=t},190)};document.addEventListener("DOMContentLoaded",main);
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNjcmlwdC5qcyJdLCJuYW1lcyI6WyJoYW1idXJnZXJCdG4iLCJtb2JpbGVOYXYiLCJuYXZMb2dvIiwiYm9keSIsIm1vYmlsZU5hdkl0ZW1zIiwiZmlyc3ROYXZJdGVtIiwic2Vjb25kTmF2SXRlbSIsInRoaXJkTmF2SXRlbSIsImZvdXJ0aE5hdkl0ZW0iLCJhbGxOYXZJdGVtcyIsImNvbnRhY3RJbnB1dHMiLCJjb250YWN0TGFiZWxzIiwidGV4dEFyZWEiLCJjb250YWN0Rm9ybSIsImxhYmVsIiwidGV4dEFyZWFMYWJlbCIsIm5hbWVJbnB1dCIsIm1haWxJbnB1dCIsInNlbmRCdG4iLCJpbnB1dEFyciIsImFsbElucHV0QXJyIiwiY2hlY2tCb3giLCJhbGVydE1zZyIsInByZXBhcmVET01FbGVtZW50cyIsIm1haW4iLCJwcmVwYXJlRE9NRXZlbnRzIiwic2Nyb2xsU3B5IiwiZG9jdW1lbnQiLCJxdWVyeVNlbGVjdG9yIiwicXVlcnlTZWxlY3RvckFsbCIsImVycm9yTXNnIiwiYWRkRXZlbnRMaXN0ZW5lciIsIndpbmRvdyIsImhhbmRsZUNvbnRhY3RBbmltYXRpb24iLCJwcmV2ZW50RGVmYXVsdCIsImUiLCJ2YWxpZGF0ZU5hbWVBbmRUZXh0YXJlYSIsInZhbGlkYXRlTWFpbCIsInZhbGlkYXRlQ2hlY2tib3giLCJjaGVja0Vycm9ycyIsImNsYXNzTGlzdCIsInRvZ2dsZSIsImZvckVhY2giLCJlbGVtZW50IiwiY2xvc2VOYXYiLCJyZW1vdmUiLCJyZW1vdmVBY3RpdmVDbGFzcyIsImluY2x1ZGVzIiwic2Nyb2xsWSIsImFkZCIsInJlbW92ZUFuaW1hdGlvbiIsInRhcmdldCIsImNsb3Nlc3QiLCJmaXJzdEVsZW1lbnRDaGlsZCIsIm1hdGNoZXMiLCJpbnB1dEVsZW1lbnQiLCJnZXRFbGVtZW50QnlJZCIsImlucHV0SWQiLCJ2YWx1ZSIsInRyaW0iLCJzdHlsZSIsIm9wYWNpdHkiLCJjbGVhcklucHV0cyIsImVycm9yQ291bnQiLCJjaGVja2VkIiwiY29udGFpbnMiLCJzZXRUaW1lb3V0IiwibG9jYXRpb24iLCJkZWxheUxpbmtzIiwiZXZlbnQiLCJ1cmwiLCJocmVmIl0sIm1hcHBpbmdzIjoiYUFBQSxJQUFJQSxhQUNBQyxVQURBRCxRQUNBQyxLQUNBQyxlQUNBQyxhQUNBQyxjQUNBQyxhQUNBQyxjQUNBQyxZQUNBQyxjQUNBQyxjQUNBQyxTQUNBQyxZQUNBQyxNQUNBQyxjQUNBQyxVQUNBQyxVQUNBQyxRQUNBQyxTQUNBQyxZQUNBQyxTQUNBQyxTQUNBQyxTQUVBQyxLQUFRLFdBRVpDLG1CQUFNQyxFQUVMQyxpQkFEQUYsRUFFQUcsVUFEQUQsQ0FFRCxFQUVNRixtQkFBcUIsV0FDMUJ2QixhQUFZMkIsU0FBV0MsY0FBYyxZQUFDLEVBQ3RDM0IsVUFBUzBCLFNBQVdDLGNBQWMsYUFBQyxFQUNuQzFCLFFBQU95QixTQUFXQyxjQUFjLFlBQUMsRUFDakN6QixLQUFJd0IsU0FBV0MsY0FBYyxNQUFDLEVBQzlCeEIsZUFBY3VCLFNBQVdFLGlCQUFpQix5QkFBQyxFQUMzQ3hCLGFBQVlzQixTQUFXQyxjQUFjLHlCQUFDLEVBQ3RDdEIsY0FBYXFCLFNBQVdDLGNBQWMsMEJBQUMsRUFDdkNyQixhQUFZb0IsU0FBV0MsY0FBYyx5QkFBQyxFQUN0Q3BCLGNBQWFtQixTQUFXQyxjQUFjLDBCQUFDLEVBQ3ZDbkIsWUFBV2tCLFNBQVdFLGlCQUFpQixrQkFBQyxFQUN4Q25CLGNBQWFpQixTQUFXRSxpQkFBaUIscUJBQUMsRUFDMUNsQixjQUFhZ0IsU0FBV0UsaUJBQWlCLHFCQUFDLEVBQzFDakIsU0FBUWUsU0FBV0MsY0FBYyx3QkFBQyxFQUNsQ2YsWUFBV2MsU0FBV0MsY0FBYyxnQkFBQyxFQUNyQ1YsUUFBT1MsU0FBV0MsY0FBYyxvQkFBQyxFQUNqQ1osVUFBU1csU0FBV0MsY0FBYyxPQUFDLEVBQ25DWCxVQUFTVSxTQUFXQyxjQUFjLE9BQUMsRUFDbkNULFNBQVEsQ0FBR0gsVUFBVUosVUFDckJRLFlBQVcsQ0FBR0osVUFBVUMsVUFBV0wsVUFDbkNTLFNBQVFNLFNB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OEMsVUFBVVQsSUFBQSw4QkFBQSxFQUxwQixFQWNHYyxZQUFZLFdBWGQvQyxVQVlDMEMsTUFBQSxHQVhEekMsVUFZRXlDLE1BQUEsR0FYRjlDLFNBYUtTLE1BQVMyQyxHQVpkM0MsU0FhQzBDLFFBQVksQ0FBQSxDQVpkLEVBZ0JFRCxZQUFhLFdBYmQsSUFjQ3hDLEVBQVNrQixFQVpWcEIsWUFlRUUsUUFBU2tCLFNBQUFBLEdBQ1RMLEVBQUVLLFVBQUt5QixTQUFBLDhCQUFBLEdBQ1RGLENBQUEsRUFHRCxDQUFBLEVBR0NHLFNBQVdGLFNBaEJWRCxDQWlCT0ksR0FJQXBDLElBQVRKLElBakJFbUMsWUFBWSxFQUNaeEMsU0FBU2tCLFVBQVVTLElBQUksMEJBQTBCLEVBRWpEaUIsV0FBVyxXQUNWNUMsU0FBU2tCLFVBQVVLLE9BQU8sMEJBQTBCLENBQ3JELEVBQUcsR0FBSSxFQUVULEVBRU11QixXQUFhLFNBQUNDLEVBQU9DLEdBQzFCRCxFQUFNbkMsZUFBZSxFQUVyQmdDLFdBQVcsV0FDVmxDLE9BQU9tQyxTQUFTSSxLQUFPRCxDQUN4QixFQUFHLEdBQUcsQ0FDUCxFQUVBM0MsU0FBU0ksaUJBQWlCLG1CQUFvQlAsSUFBSSIsImZpbGUiOiJzY3JpcHQubWluLmpzIiwic291cmNlc0NvbnRlbnQiOlsibGV0IGhhbWJ1cmdlckJ0blxyXG5sZXQgbW9iaWxlTmF2XHJcbmxldCBuYXZMb2dvXHJcbmxldCBib2R5XHJcbmxldCBtb2JpbGVOYXZJdGVtc1xyXG5sZXQgZmlyc3ROYXZJdGVtXHJcbmxldCBzZWNvbmROYXZJdGVtXHJcbmxldCB0aGlyZE5hdkl0ZW1cclxubGV0IGZvdXJ0aE5hdkl0ZW1cclxubGV0IGFsbE5hdkl0ZW1zXHJcbmxldCBjb250YWN0SW5wdXRzXHJcbmxldCBjb250YWN0TGFiZWxzXHJcbmxldCB0ZXh0QXJlYVxyXG5sZXQgY29udGFjdEZvcm1cclxubGV0IGxhYmVsXHJcbmxldCB0ZXh0QXJlYUxhYmVsXHJcbmxldCBuYW1lSW5wdXRcclxubGV0IG1haWxJbnB1dFxyXG5sZXQgc2VuZEJ0blxyXG5sZXQgaW5wdXRBcnJcclxubGV0IGFsbElucHV0QXJyXHJcbmxldCBjaGVja0JveFxyXG5sZXQgZXJyb3JNc2dcclxubGV0IGFsZXJ0TXNnXHJcblxyXG5jb25zdCBtYWluID0gKCkgPT4ge1xyXG5cdHByZXBhcmVET01FbGVtZW50cygpXHJcblx0cHJlcGFyZURPTUV2ZW50cygpXHJcblx0c2Nyb2xsU3B5KClcclxufVxyXG5cclxuY29uc3QgcHJlcGFyZURPTUVsZW1lbnRzID0gKCkgPT4ge1xyXG5cdGhhbWJ1cmdlckJ0biA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5oYW1idXJnZXInKVxyXG5cdG1vYmlsZU5hdiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5uYXYtbW9iaWxlJylcclxuXHRuYXZMb2dvID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLm5hdl9fbG9nbycpXHJcblx0Ym9keSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ2JvZHknKVxyXG5cdG1vYmlsZU5hdkl0ZW1zID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLm5hdi1tb2JpbGVfX2l0ZW1zLWl0ZW0nKVxyXG5cdGZpcnN0TmF2SXRlbSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5uYXZfX2l0ZW1zLWl0ZW0tLWZpcnN0JylcclxuXHRzZWNvbmROYXZJdGVtID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLm5hdl9faXRlbXMtaXRlbS0tc2Vjb25kJylcclxuXHR0aGlyZE5hdkl0ZW0gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcubmF2X19pdGVtcy1pdGVtLS10aGlyZCcpXHJcblx0Zm91cnRoTmF2SXRlbSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5uYXZfX2l0ZW1zLWl0ZW0tLWZvdXJ0aCcpXHJcblx0YWxsTmF2SXRlbXMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcubmF2X19pdGVtcy1pdGVtJylcclxuXHRjb250YWN0SW5wdXRzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLmNvbnRhY3RfX2JveC1pbnB1dCcpXHJcblx0Y29udGFjdExhYmVscyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5jb250YWN0X19ib3gtbGFiZWwnKVxyXG5cdHRleHRBcmVhID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmNvbnRhY3RfX2JveC10ZXh0YXJlYScpXHJcblx0Y29udGFjdEZvcm0gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuY29udGFjdF9fZm9ybScpXHJcblx0c2VuZEJ0biA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5jb250YWN0X19mb3JtLWJ0bicpXHJcblx0bmFtZUlucHV0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI25hbWUnKVxyXG5cdG1haWxJbnB1dCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNtYWlsJylcclxuXHRpbnB1dEFyciA9IFtuYW1lSW5wdXQsIHRleHRBcmVhXVxyXG5cdGFsbElucHV0QXJyID0gW25hbWVJbnB1dCwgbWFpbElucHV0LCB0ZXh0QXJlYV1cclxuXHRjaGVja0JveCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNwcml2YWN5JylcclxuXHRlcnJvck1zZyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5jb250YWN0X19ib3gtZXJyb3InKVxyXG5cdGFsZXJ0TXNnID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmNvbnRhY3RfX2FsZXJ0JylcclxufVxyXG5cclxuY29uc3QgcHJlcGFyZURPTUV2ZW50cyA9ICgpID0+IHtcclxuXHRoYW1idXJnZXJCdG4uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBoYW5kbGVOYXYpXHJcblx0d2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ3Njcm9sbCcsIHNjcm9sbFNweSlcclxuXHRib2R5LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgaGFuZGxlQ29udGFjdEFuaW1hdGlvbilcclxuXHRpZiAoc2VuZEJ0bikge1xyXG5cdFx0c2VuZEJ0bi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGUgPT4ge1xyXG5cdFx0XHRlLnByZXZlbnREZWZhdWx0KClcclxuXHRcdFx0dmFsaWRhdGVOYW1lQW5kVGV4dGFyZWEoKVxyXG5cdFx0XHR2YWxpZGF0ZU1haWwoKVxyXG5cdFx0XHR2YWxpZGF0ZUNoZWNrYm94KClcclxuXHRcdFx0Y2hlY2tFcnJvcnMoKVxyXG5cdFx0fSlcclxuXHR9XHJcbn1cclxuXHJcbmNvbnN0IGhhbmRsZU5hdiA9ICgpID0+IHtcclxuXHRib2R5LmNsYXNzTGlzdC50b2dnbGUoJ292ZXJmbG93LWhpZGRlbicpXHJcblx0bW9iaWxlTmF2LmNsYXNzTGlzdC50b2dnbGUoJ25hdi1tb2JpbGUtLWFjdGl2ZScpXHJcblx0bW9iaWxlTmF2SXRlbXMuZm9yRWFjaChlbGVtZW50ID0+IGNsb3NlTmF2KGVsZW1lbnQpKVxyXG5cdGhhbWJ1cmdlckJ0bi5jbGFzc0xpc3QudG9nZ2xlKCdpcy1hY3RpdmUnKVxyXG59XHJcblxyXG5jb25zdCBjbG9zZU5hdiA9IGVsZW1lbnQgPT4ge1xyXG5cdGVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XHJcblx0XHRib2R5LmNsYXNzTGlzdC5yZW1vdmUoJ292ZXJmbG93LWhpZGRlbicpXHJcblx0XHRtb2JpbGVOYXYuY2xhc3NMaXN0LnJlbW92ZSgnbmF2LW1vYmlsZS0tYWN0aXZlJylcclxuXHRcdGhhbWJ1cmdlckJ0bi5jbGFzc0xpc3QucmVtb3ZlKCdpcy1hY3RpdmUnKVxyXG5cdH0pXHJcbn1cclxuXHJcbmNvbnN0IHNjcm9sbFNweSA9ICgpID0+IHtcclxuXHRpZiAoZG9jdW1lbnQuVVJMLmluY2x1ZGVzKCdvZmVydGEuaHRtbCcpKXtcclxuXHRcdHJlbW92ZUFjdGl2ZUNsYXNzKClcclxuXHR9IGVsc2UgaWYgKGRvY3VtZW50LlVSTC5pbmNsdWRlcygna29udGFrdC5odG1sJykpIHtcclxuXHRcdHJlbW92ZUFjdGl2ZUNsYXNzKClcclxuXHRcdGZvdXJ0aE5hdkl0ZW0uY2xhc3NMaXN0LmFkZCgnbmF2X19pdGVtcy1pdGVtLS1hY3RpdmUnKVxyXG5cdH0gZWxzZSBpZiAod2luZG93LnNjcm9sbFkgPD0gNTU3KSB7XHJcblx0XHRyZW1vdmVBY3RpdmVDbGFzcygpXHJcblx0XHRmaXJzdE5hdkl0ZW0uY2xhc3NMaXN0LmFkZCgnbmF2X19pdGVtcy1pdGVtLS1hY3RpdmUnKVxyXG5cdH0gZWxzZSBpZiAod2luZG93LnNjcm9sbFkgPD0gMTUxNSkge1xyXG5cdFx0cmVtb3ZlQWN0aXZlQ2xhc3MoKVxyXG5cdFx0c2Vjb25kTmF2SXRlbS5jbGFzc0xpc3QuYWRkKCduYXZfX2l0ZW1zLWl0ZW0tLWFjdGl2ZScpXHJcblx0fSBlbHNlIHtcclxuXHRcdHJlbW92ZUFjdGl2ZUNsYXNzKClcclxuXHRcdHRoaXJkTmF2SXRlbS5jbGFzc0xpc3QuYWRkKCduYXZfX2l0ZW1zLWl0ZW0tLWFjdGl2ZScpXHJcblx0fVxyXG59XHJcblxyXG5jb25zdCByZW1vdmVBY3RpdmVDbGFzcyA9ICgpID0+IHtcclxuXHRhbGxOYXZJdGVtcy5mb3JFYWNoKGUgPT4gZS5jbGFzc0xpc3QucmVtb3ZlKCduYXZfX2l0ZW1zLWl0ZW0tLWFjdGl2ZScpKVxyXG59XHJcblxyXG5jb25zdCBoYW5kbGVDb250YWN0QW5pbWF0aW9uID0gZSA9PiB7XHJcblx0aWYgKGUudGFyZ2V0Lm1hdGNoZXMoJy5jb250YWN0X19ib3gtaW5wdXQnKSkge1xyXG5cdFx0cmVtb3ZlQW5pbWF0aW9uKClcclxuXHRcdGxhYmVsID0gZS50YXJnZXQuY2xvc2VzdCgnZGl2JykuZmlyc3RFbGVtZW50Q2hpbGRcclxuXHRcdGxhYmVsLmNsYXNzTGlzdC5hZGQoJ2NvbnRhY3RfX2JveC1sYWJlbC1hbmltYXRpb24nKVxyXG5cdH0gZWxzZSBpZiAoZS50YXJnZXQubWF0Y2hlcygnLmNvbnRhY3RfX2JveC10ZXh0YXJlYScpKSB7XHJcblx0XHRyZW1vdmVBbmltYXRpb24oKVxyXG5cdFx0dGV4dEFyZWFMYWJlbCA9IGUudGFyZ2V0LmNsb3Nlc3QoJ2RpdicpLmZpcnN0RWxlbWVudENoaWxkXHJcblx0XHR0ZXh0QXJlYUxhYmVsLmNsYXNzTGlzdC5hZGQoJ2NvbnRhY3RfX2JveC1sYWJlbC1hbmltYXRpb24nKVxyXG5cdH0gZWxzZSB7XHJcblx0XHRyZW1vdmVBbmltYXRpb24oKVxyXG5cdH1cclxufVxyXG5cclxuY29uc3QgcmVtb3ZlQW5pbWF0aW9uID0gKCkgPT4ge1xyXG5cdGNvbnRhY3RMYWJlbHMuZm9yRWFjaChsYWJlbCA9PiB7XHJcblx0XHRjb25zdCBpbnB1dElkID0gbGFiZWwuZ2V0QXR0cmlidXRlKCdmb3InKVxyXG5cdFx0Y29uc3QgaW5wdXRFbGVtZW50ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoaW5wdXRJZClcclxuXHJcblx0XHRpZiAoaW5wdXRFbGVtZW50ICYmIGlucHV0RWxlbWVudC52YWx1ZS50cmltKCkgPT09ICcnKSB7XHJcblx0XHRcdGxhYmVsLmNsYXNzTGlzdC5yZW1vdmUoJ2NvbnRhY3RfX2JveC1sYWJlbC1hbmltYXRpb24nKVxyXG5cdFx0fVxyXG5cdH0pXHJcbn1cclxuXHJcbmNvbnN0IHZhbGlkYXRlTmFtZUFuZFRleHRhcmVhID0gKCkgPT4ge1xyXG5cdGlucHV0QXJyLmZvckVhY2goZSA9PiB7XHJcblx0XHRpZiAoZS52YWx1ZSA9PT0gJycpIHtcclxuXHRcdFx0ZS5jbGFzc0xpc3QuYWRkKCdjb250YWN0X19ib3gtaW5wdXQtaW5jb3JyZWN0JylcclxuXHRcdH0gZWxzZSB7XHJcblx0XHRcdGUuY2xhc3NMaXN0LnJlbW92ZSgnY29udGFjdF9fYm94LWlucHV0LWluY29ycmVjdCcpXHJcblx0XHR9XHJcblx0fSlcclxufVxyXG5cclxuY29uc3QgdmFsaWRhdGVNYWlsID0gKCkgPT4ge1xyXG5cdGNvbnN0IHJlID1cclxuXHRcdC9eKChbXjw+KClbXFxdXFwuLDs6XFxzQFxcXCJdKyhcXC5bXjw+KClbXFxdXFwuLDs6XFxzQFxcXCJdKykqKXwoXFxcIi4rXFxcIikpQCgoW148PigpW1xcXVxcLiw7Olxcc0BcXFwiXStcXC4pK1tePD4oKVtcXF1cXC4sOzpcXHNAXFxcIl17Miw0fSkkL2lcclxuXHJcblx0aWYgKHJlLnRlc3QobWFpbElucHV0LnZhbHVlKSkge1xyXG5cdFx0bWFpbElucHV0LmNsYXNzTGlzdC5yZW1vdmUoJ2NvbnRhY3RfX2JveC1pbnB1dC1pbmNvcnJlY3QnKVxyXG5cdH0gZWxzZSB7XHJcblx0XHRtYWlsSW5wdXQuY2xhc3NMaXN0LmFkZCgnY29udGFjdF9fYm94LWlucHV0LWluY29ycmVjdCcpXHJcblx0fVxyXG59XHJcblxyXG5jb25zdCB2YWxpZGF0ZUNoZWNrYm94ID0gKCkgPT4ge1xyXG5cdGlmICghY2hlY2tCb3guY2hlY2tlZCkge1xyXG5cdFx0ZXJyb3JNc2cuc3R5bGUub3BhY2l0eSA9ICcxJ1xyXG5cdFx0Y2hlY2tCb3guY2xhc3NMaXN0LmFkZCgnY29udGFjdF9fYm94LWlucHV0LWluY29ycmVjdCcpXHJcblx0fSBlbHNlIHtcclxuXHRcdGVycm9yTXNnLnN0eWxlLm9wYWNpdHkgPSAnMCdcclxuXHRcdGNoZWNrQm94LmNsYXNzTGlzdC5yZW1vdmUoJ2NvbnRhY3RfX2JveC1pbnB1dC1pbmNvcnJlY3QnKVxyXG5cdH1cclxufVxyXG5cclxuY29uc3QgY2xlYXJJbnB1dHMgPSAoKSA9PiB7XHJcblx0bmFtZUlucHV0LnZhbHVlID0gJydcclxuXHRtYWlsSW5wdXQudmFsdWUgPSAnJ1xyXG5cdHRleHRBcmVhLnZhbHVlID0gJydcclxuXHRjaGVja0JveC5jaGVja2VkID0gZmFsc2VcclxufVxyXG5cclxuY29uc3QgY2hlY2tFcnJvcnMgPSAoKSA9PiB7XHJcblx0bGV0IGVycm9yQ291bnQgPSAwXHJcblxyXG5cdGFsbElucHV0QXJyLmZvckVhY2goZSA9PiB7XHJcblx0XHRpZiAoZS5jbGFzc0xpc3QuY29udGFpbnMoJ2NvbnRhY3RfX2JveC1pbnB1dC1pbmNvcnJlY3QnKSkge1xyXG5cdFx0XHRlcnJvckNvdW50KytcclxuXHRcdH1cclxuXHR9KVxyXG5cclxuXHRpZiAoIWNoZWNrQm94LmNoZWNrZWQpIHtcclxuXHRcdGVycm9yQ291bnQrK1xyXG5cdH1cclxuXHJcblx0aWYgKGVycm9yQ291bnQgPT09IDApIHtcclxuXHRcdGNsZWFySW5wdXRzKClcclxuXHRcdGFsZXJ0TXNnLmNsYXNzTGlzdC5hZGQoJ2NvbnRhY3RfX2FsZXJ0LWFuaW1hdGlvbicpXHJcblxyXG5cdFx0c2V0VGltZW91dChmdW5jdGlvbigpIHtcclxuXHRcdFx0YWxlcnRNc2cuY2xhc3NMaXN0LnJlbW92ZSgnY29udGFjdF9fYWxlcnQtYW5pbWF0aW9uJylcclxuXHRcdH0sIDMwMDApXHJcblx0fVxyXG59XHJcblxyXG5jb25zdCBkZWxheUxpbmtzID0gKGV2ZW50LCB1cmwpID0+IHtcclxuXHRldmVudC5wcmV2ZW50RGVmYXVsdCgpXHJcblxyXG5cdHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7XHJcblx0XHR3aW5kb3cubG9jYXRpb24uaHJlZiA9IHVybFxyXG5cdH0sIDE5MClcclxufVxyXG5cclxuZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignRE9NQ29udGVudExvYWRlZCcsIG1haW4pXHJcbiJdfQ==
